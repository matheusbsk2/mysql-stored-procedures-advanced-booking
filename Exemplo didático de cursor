DELIMITER $$

CREATE PROCEDURE looping_cursor_55()
BEGIN
    DECLARE fimCursor INTEGER DEFAULT 0;
    DECLARE vnome VARCHAR(255);

    DECLARE cursor1 CURSOR FOR 
        SELECT nome FROM temp_nomes;

    DECLARE CONTINUE HANDLER FOR NOT FOUND 
        SET fimCursor = 1;

    OPEN cursor1;

    read_loop: LOOP
        FETCH cursor1 INTO vnome;
        IF fimCursor = 1 THEN
            LEAVE read_loop;
        END IF;

        SELECT vnome;
    END LOOP;

    CLOSE cursor1;
END$$

DELIMITER ;
